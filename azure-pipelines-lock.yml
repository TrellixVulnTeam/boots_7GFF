variables:
  archive_url: $(BOOTS_ARCHIVE_URL)
  command: $(BOOTS_COMMAND)

jobs:
  - template: azure/templates/jobs/get_input_archive.yml
    parameters:
      job: get_input_archive
      archive_url: $(archive_url)

  - template: azure/templates/jobs/run_command.yml
    parameters:
      platform: Linux
      vmImage: 'ubuntu-16.04'
      dependsOn: get_input_archive
      command: $(command)

  - template: azure/templates/jobs/run_command.yml
    parameters:
      platform: macOS
      vmImage: 'macOS-10.13'
      dependsOn: get_input_archive
      command: $(command)

  - template: azure/templates/jobs/run_command.yml
    parameters:
      platform: Windows
      vmImage: 'vs2017-win2016'
      dependsOn: get_input_archive
      command: $(command)
